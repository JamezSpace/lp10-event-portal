<header class="pt-3">
  <h2>Manage Events</h2>
  <p class="mt-2">Welcome!</p>
  @if (active_tab() === 'upcoming') {
  <button class="mt-4.5 my-button secondary" (click)="openNewEventDialog()">
    <p>create new event</p>
  </button>
  } @else if (active_tab() === 'recurring') {
  <button class="mt-4.5 my-button secondary" (click)="openNewRecurringeventDialog()">
    <p>add a new recurring event</p>
  </button>
  }
</header>

<mat-tab-group mat-stretch-tabs="false" class="mt-6" (selectedTabChange)="toggleActiveTab($event)">
    <mat-tab label="Upcoming Events">
      <section class="flex flex-wrap gap-5 my-5 p-1.5">
        @for (upcoming_event of upcoming_events(); track $index) {
        <app-event [event]="upcoming_event" event_tag="upcoming" />
        } @empty {
        <div class="flex w-full flex-col items-center py-10">
          <span class="p-2.5 rounded-full bg-gray-200 text-5xl text-gray-700">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="1em"
              height="1em"
              viewBox="0 0 24 24"
            >
              <rect width="24" height="24" fill="none" />
              <path
                fill="currentColor"
                d="M5.616 21q-.691 0-1.153-.462T4 19.385V6.615q0-.69.463-1.152T5.616 5h1.769V3.308q0-.233.153-.386t.385-.153t.386.153t.153.386V5h7.154V3.27q0-.214.143-.358t.357-.143t.356.143t.144.357V5h1.769q.69 0 1.153.463T20 6.616v12.769q0 .69-.462 1.153T18.384 21zm0-1h12.769q.23 0 .423-.192t.192-.424v-8.768H5v8.769q0 .23.192.423t.423.192M5 9.615h14v-3q0-.23-.192-.423T18.384 6H5.616q-.231 0-.424.192T5 6.616zm0 0V6zM8 13.5q-.213 0-.357-.143T7.5 13t.143-.357T8 12.5h8q.214 0 .357.143T16.5 13t-.143.357T16 13.5zm0 4q-.213 0-.357-.143T7.5 17t.143-.357T8 16.5h5q.214 0 .357.143T13.5 17t-.143.357T13 17.5z"
              />
            </svg>
          </span>
          <p
            class="capitalize my-1.5 mt-5 text-2xl max-sm:text-xl font-medium text-gray-800"
          >
            No upcoming events
          </p>
          <p class="text-gray-500 text-center">
            Schedule your next one-time or recurring event to keep your calendar
            active.
          </p>
          <button
            class="flex-center mt-4.5 my-button secondary"
            (click)="openNewEventDialog()"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="1em"
              height="1em"
              viewBox="0 0 256 256"
            >
              <rect width="256" height="256" fill="none" />
              <g
                fill="none"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="18"
              >
                <circle cx="128" cy="128" r="112" />
                <path d="M 79.999992,128 H 176.0001" />
                <path d="m 128.00004,79.99995 v 96.0001" />
              </g>
            </svg>
            <span>create new event</span>
          </button>
        </div>
        }
      </section>
    </mat-tab>
  <mat-tab label="Past Events">
    <section class="flex flex-wrap gap-5 my-5 p-1.5">
      @for (past_event of past_events(); track $index) { @if (past_event.type
      !== 0) {
      <app-event [event]="past_event" />
      } } @empty {
      <div class="flex w-full flex-col items-center py-10">
        <span class="p-2.5 rounded-full bg-gray-200 text-5xl text-gray-700">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="1em"
            height="1em"
            viewBox="0 0 24 24"
          >
            <rect width="24" height="24" fill="none" />
            <path
              fill="currentColor"
              d="M5.616 21q-.691 0-1.153-.462T4 19.385V6.615q0-.69.463-1.152T5.616 5h1.769V3.308q0-.233.153-.386t.385-.153t.386.153t.153.386V5h7.154V3.27q0-.214.143-.358t.357-.143t.356.143t.144.357V5h1.769q.69 0 1.153.463T20 6.616v12.769q0 .69-.462 1.153T18.384 21zm0-1h12.769q.23 0 .423-.192t.192-.424v-8.768H5v8.769q0 .23.192.423t.423.192M5 9.615h14v-3q0-.23-.192-.423T18.384 6H5.616q-.231 0-.424.192T5 6.616zm0 0V6zM8 13.5q-.213 0-.357-.143T7.5 13t.143-.357T8 12.5h8q.214 0 .357.143T16.5 13t-.143.357T16 13.5zm0 4q-.213 0-.357-.143T7.5 17t.143-.357T8 16.5h5q.214 0 .357.143T13.5 17t-.143.357T13 17.5z"
            />
          </svg>
        </span>
        <p
          class="capitalize my-1.5 mt-5 text-2xl max-sm:text-xl font-medium text-gray-800"
        >
          No past events yet
        </p>
        <p class="text-gray-500 text-center">
          Once events have been completed, theyâ€™ll appear here for your records.
        </p>
      </div>
      }
    </section>
  </mat-tab>
    <mat-tab label="Recurring Events">
      <section class="flex flex-wrap gap-5 my-5 p-1.5">
        @for (recurring_event of recurring_events(); track $index) {
        <app-recurring-event [event]="recurring_event" />
        } @empty {
        <div class="flex w-full flex-col items-center py-10">
          <span class="p-2.5 rounded-full bg-gray-200 text-5xl text-gray-700">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="1em"
              height="1em"
              viewBox="0 0 24 24"
            >
              <rect width="24" height="24" fill="none" />
              <path
                fill="currentColor"
                d="M5.616 21q-.691 0-1.153-.462T4 19.385V6.615q0-.69.463-1.152T5.616 5h1.769V3.308q0-.233.153-.386t.385-.153t.386.153t.153.386V5h7.154V3.27q0-.214.143-.358t.357-.143t.356.143t.144.357V5h1.769q.69 0 1.153.463T20 6.616v12.769q0 .69-.462 1.153T18.384 21zm0-1h12.769q.23 0 .423-.192t.192-.424v-8.768H5v8.769q0 .23.192.423t.423.192M5 9.615h14v-3q0-.23-.192-.423T18.384 6H5.616q-.231 0-.424.192T5 6.616zm0 0V6zM8 13.5q-.213 0-.357-.143T7.5 13t.143-.357T8 12.5h8q.214 0 .357.143T16.5 13t-.143.357T16 13.5zm0 4q-.213 0-.357-.143T7.5 17t.143-.357T8 16.5h5q.214 0 .357.143T13.5 17t-.143.357T13 17.5z"
              />
            </svg>
          </span>
          <p
            class="capitalize my-1.5 mt-5 text-2xl max-sm:text-xl font-medium text-gray-800"
          >
            No recurring events yet
          </p>
          <p class="text-gray-500 text-center">
            Get started by creating your first recurring event for ongoing
            programs.
          </p>
          <button
            class="mt-4.5 my-button secondary"
            (click)="openNewRecurringeventDialog()"
          >
            new recurring event
          </button>
        </div>
        }
      </section>
    </mat-tab>
</mat-tab-group>
